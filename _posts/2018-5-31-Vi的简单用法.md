---
layout: post
title: vi的简单用法
category: Linux
tags: Linux命令
keywords: vi
description: 简单介绍vi的使用
---

### 基本概念

vi编辑器是Linux和Unix上最基本的文本编辑器，工作在字符模式下。由于不需要图形界面，vi是效率很高的文本编辑器。尽管在Linux上也有很多图形界面的编辑器可用，但vi在系统和服务器管理中的功能是那些图形编辑器所无法比拟的。

Vim是vi的加强版，比vi更容易使用。vi的命令几乎全部都可以在vim上使用。安装vim之后vi会被默认替换成vim。目前使用vim的更多。

vi有三种工作模式：

1. 命令模式。控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入插入模式下，或者到底行模式。
2. 插入模式 。只有在插入模式下，才能够输入文字，按ESC键可回到命令模式。
3. 将文件保存或退出vi，也可以设置编辑环境，如寻找字符串、列出行号……等。

不过一般我们在使用时把vi简化成两个模式，就是将底行模式也算入命令行模式。

工作模式的切换：在命令模式下输入 i(插入)、c(修改)、o(另起一行) 命令时进入编辑模式，按 ESC键返回到命令模式；在命令模式下输入**冒号(:)**可以进入底行模式。输入完命令按回车，命令执行完后会自动退回命令模式。

### 常用命令

下面列出少数几个vi的常用命令，vi的命令还有很多，但是这几个是比较常用的，日常操作也足够了。

|    命令    |             作用             |
| :--------: | :--------------------------: |
|   Ctrl+f   |            上一页            |
|   Ctrl+b   |            下一页            |
| h, j, k, l | 光标移动，h左，j下，k右，l上 |
|     ^      |             行首             |
|     $      |             行尾             |
|     gg     |         文档的第一行         |
|    [N]g    |   文档的第N行或者最后一行    |
|            |                              |
|     i      |        插入到光标前面        |
|     a      |        插入到光标后面        |
|    o, O    |      在当前行下插入新行      |
|            |                              |
|     :w     |             保存             |
|  :wq, :x   |          保存并退出          |
|    :q!     |      强制关闭（不保存）      |
|            |                              |
|  /pattern  |             搜索             |
|  ?pattern  |           向后搜索           |
|            |                              |
|     dd     |           删除一行           |
|     dw     |         删除一个单词         |
|     x      |        删除后一个字符        |
|     X      |        删除前一个字符        |
|   [N]yy    |        复制一行或N行         |
|     p      |             粘贴             |

